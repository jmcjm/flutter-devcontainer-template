{
    "name": "Flutter 4 Android with Zsh",
    "build": {
        "dockerfile": "Dockerfile",
        "options": ["--tag", "flutter4android_zsh"],
        "args": {
            "USERNAME": "${localEnv:USER}${localEnv:USERNAME}"
        }
    },

    "containerEnv": {
        "SHELL": "/bin/zsh"
    },

    "mounts": [],

    "runArgs": [
        "--platform",
        "linux/amd64",
        "--name",
        "${localWorkspaceFolderBasename}_flutter4android_zsh_devcontainer"
    ],

    "onCreateCommand": "bash ./.devcontainer/on-create.sh",
    "postAttachCommand": "bash ./.devcontainer/post-attach.sh",

    "waitFor": "onCreateCommand",

    "remoteUser": "${localEnv:USER}${localEnv:USERNAME}",

    "features": {
        "ghcr.io/devcontainers-contrib/features/go-task:1": {},
        "ghcr.io/devcontainers/features/git:1": {}
    },

    "customizations": {
        "vscode": {
            "settings": {
                "terminal.integrated.defaultProfile.linux": "zsh",
                "terminal.integrated.profiles.linux": {
                    "zsh": {
                        "path": "/bin/zsh"
                    }
                }
            },
            "extensions": [
                "Dart-Code.dart-code",
                "Dart-Code.flutter",
                "task.vscode-task",
                "redhat.vscode-yaml"
            ]
        }
    }
}